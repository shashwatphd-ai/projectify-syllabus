# Post-Signup User Journey Flowcharts & Navigation Maps

**Platform**: EduThree (Projectify Syllabus)
**Analysis Date**: 2025-11-12
**Status**: Comprehensive Codebase Scan Complete

---

## Table of Contents
1. [User Types Overview](#user-types-overview)
2. [Student User Flow](#student-user-flow)
3. [Faculty User Flow](#faculty-user-flow)
4. [Employer User Flow](#employer-user-flow)
5. [Admin User Flow](#admin-user-flow)
6. [Page Navigation Map](#page-navigation-map)
7. [Network Actions & API Calls](#network-actions--api-calls)
8. [Database Changes by Action](#database-changes-by-action)

---

## User Types Overview

### Role Architecture
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          User Types & Roles             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. student           [Default]          â”‚
â”‚ 2. faculty           [Requires Approval]â”‚
â”‚ 3. employer          [Requires Approval]â”‚
â”‚ 4. admin             [Manual Assignment]â”‚
â”‚ 5. pending_faculty   [Concurrent Role]  â”‚
â”‚ 6. pending_employer  [Limited Access]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Multi-Role Capability
- Users can have **multiple concurrent roles**
- Example: Faculty member is also a student
- Role priority: `admin > faculty > employer > student`

---

## Student User Flow

### Flowchart: Student Post-Signup Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STUDENT SIGNUP                      â”‚
â”‚  Email: any@example.com                                â”‚
â”‚  Password: ********                                    â”‚
â”‚  Role: Student                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            DATABASE: USER CREATION                     â”‚
â”‚  âœ… auth.users (Supabase Auth)                        â”‚
â”‚  âœ… profiles (id, email, created_at)                  â”‚
â”‚  âœ… user_roles (user_id='XXX', role='student')        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          EMAIL VERIFICATION REQUIRED                   â”‚
â”‚  Check inbox for verification link                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼ (After click)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          REDIRECT TO: /upload                          â”‚
â”‚  (Default landing page after verification)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                           â”‚
         â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OPTION A:      â”‚         â”‚  OPTION B:      â”‚
â”‚  Browse         â”‚         â”‚  Navigate to    â”‚
â”‚  Projects       â”‚         â”‚  Other Pages    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                           â”‚
         â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PAGE: /projects                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ” DATABASE QUERY:                                     â”‚
â”‚     SELECT * FROM projects                              â”‚
â”‚     WHERE status = 'curated_live'                       â”‚
â”‚     ORDER BY created_at DESC                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“Š UI DISPLAY:                                         â”‚
â”‚     â€¢ Project cards (title, company, pricing)           â”‚
â”‚     â€¢ LO match scores                                   â”‚
â”‚     â€¢ "Apply Now" buttons                               â”‚
â”‚     â€¢ Search and filter options                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ (Student clicks project card)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PAGE: /projects/:id (Detail View)               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ” DATABASE QUERY:                                     â”‚
â”‚     SELECT * FROM projects WHERE id = ?                 â”‚
â”‚     + company_profiles                                  â”‚
â”‚     + project_forms                                     â”‚
â”‚     + project_metadata                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“Š UI DISPLAY:                                         â”‚
â”‚     â€¢ Full project description                          â”‚
â”‚     â€¢ Company information                               â”‚
â”‚     â€¢ Required skills                                   â”‚
â”‚     â€¢ Deliverables & milestones                         â”‚
â”‚     â€¢ Application status                                â”‚
â”‚     â€¢ "Apply Now" button (if not applied)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ (Student clicks "Apply Now")
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            API ACTION: APPLY TO PROJECT                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“¤ CLIENT REQUEST:                                     â”‚
â”‚     INSERT into project_applications                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ’¾ DATABASE WRITE:                                     â”‚
â”‚     INSERT INTO project_applications (                  â”‚
â”‚       project_id = ?,                                   â”‚
â”‚       student_id = auth.uid(),                          â”‚
â”‚       status = 'pending',                               â”‚
â”‚       applied_at = NOW()                                â”‚
â”‚     )                                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ”’ SECURITY:                                           â”‚
â”‚     RLS policy validates student_id = auth.uid()        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             UI UPDATE: APPLICATION SENT                 â”‚
â”‚  âœ… Button changes to "Applied"                        â”‚
â”‚  âœ… Employer notified of new application               â”‚
â”‚  âœ… Application tracked in student's profile           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚
         â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NAVIGATE TO:     â”‚   â”‚ NAVIGATE TO:     â”‚
â”‚ /my-opportunitiesâ”‚   â”‚ /my-competencies â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â”‚
         â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ JOB MATCHES         â”‚ â”‚ SKILLS PORTFOLIO    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ğŸ” QUERY:           â”‚ â”‚ ğŸ” QUERY:           â”‚
â”‚   job_matches       â”‚ â”‚   verified_         â”‚
â”‚   WHERE student_id  â”‚ â”‚   competencies      â”‚
â”‚                     â”‚ â”‚                     â”‚
â”‚ ğŸ“Š DISPLAY:         â”‚ â”‚ ğŸ“Š DISPLAY:         â”‚
â”‚   â€¢ Matched jobs    â”‚ â”‚   â€¢ Verified skills â”‚
â”‚   â€¢ Job details     â”‚ â”‚   â€¢ Employer ratingsâ”‚
â”‚   â€¢ Apply externallyâ”‚ â”‚   â€¢ Export PDF      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Student Page Access Matrix

| Page | Access | Purpose |
|------|--------|---------|
| `/` | âœ… Yes | Landing page |
| `/auth` | âœ… Yes | Sign in/out |
| `/projects` | âœ… Yes | Browse live projects |
| `/projects/:id` | âœ… Yes | View project details |
| `/my-opportunities` | âœ… Yes | View job matches |
| `/my-competencies` | âœ… Yes | View skills portfolio |
| `/upload` | âŒ No (redirects) | Faculty only |
| `/configure` | âŒ No (redirects) | Faculty only |
| `/employer/dashboard` | âŒ No | Employer only |
| `/admin-hub` | âŒ No | Admin only |

### Student API Calls

| Action | Endpoint | Method | Database Tables |
|--------|----------|--------|-----------------|
| Browse projects | Supabase Query | SELECT | `projects` |
| View details | Supabase Query | SELECT | `projects`, `company_profiles`, `project_forms` |
| Apply to project | Supabase Insert | INSERT | `project_applications` |
| View opportunities | Supabase Query | SELECT | `job_matches` |
| View competencies | Supabase Query | SELECT | `verified_competencies` |
| Export portfolio | Edge Function | POST | `portfolio-export` |

---

## Faculty User Flow

### Flowchart: Faculty Post-Signup Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FACULTY SIGNUP                       â”‚
â”‚  Email: professor@university.edu                       â”‚
â”‚  Password: ********                                    â”‚
â”‚  Role: Faculty                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           DATABASE: USER CREATION                      â”‚
â”‚  âœ… auth.users (Supabase Auth)                        â”‚
â”‚  âœ… profiles (id, email, created_at)                  â”‚
â”‚  âœ… user_roles:                                        â”‚
â”‚     - (user_id='XXX', role='student')                  â”‚
â”‚     - (user_id='XXX', role='pending_faculty')          â”‚
â”‚  â³ Requires admin approval for full faculty access   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           EMAIL VERIFICATION                           â”‚
â”‚  Check inbox for verification link                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           REDIRECT TO: /upload                         â”‚
â”‚  (Faculty can immediately start uploading syllabi)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PAGE: /upload (Step 1)                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸŒ LOCATION DETECTION:                                 â”‚
â”‚     ğŸ“¤ API CALL: detect-location edge function          â”‚
â”‚        Input: professor@university.edu                  â”‚
â”‚        Query: university_domains table                  â”‚
â”‚        Output: "University of XYZ, City, State"         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“„ FILE UPLOAD:                                        â”‚
â”‚     â€¢ Upload PDF syllabus (max 10MB)                    â”‚
â”‚     â€¢ Validation: File type, size                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ’¾ STORAGE:                                            â”‚
â”‚     Supabase Storage bucket: 'syllabi'                  â”‚
â”‚     Path: /user-id/filename.pdf                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ (User clicks "Upload & Parse")
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         API CALL: parse-syllabus Edge Function          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“¤ REQUEST:                                            â”‚
â”‚     POST to parse-syllabus                              â”‚
â”‚     Body: { filePath, location }                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ¤– AI PROCESSING:                                      â”‚
â”‚     â€¢ Extract course title                              â”‚
â”‚     â€¢ Extract learning outcomes                         â”‚
â”‚     â€¢ Extract artifacts/deliverables                    â”‚
â”‚     â€¢ Extract schedule                                  â”‚
â”‚     â€¢ Detect course level (undergrad/grad)              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ’¾ DATABASE WRITE:                                     â”‚
â”‚     INSERT INTO course_profiles (                       â”‚
â”‚       owner_id = auth.uid(),                            â”‚
â”‚       title = ?,                                        â”‚
â”‚       level = ?,                                        â”‚
â”‚       city_zip = ?,                                     â”‚
â”‚       search_location = ?,                              â”‚
â”‚       weeks = ?,                                        â”‚
â”‚       hrs_per_week = ?,                                 â”‚
â”‚       outcomes = ?,                                     â”‚
â”‚       artifacts = ?,                                    â”‚
â”‚       schedule = ?                                      â”‚
â”‚     )                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PAGE: /review-syllabus (Step 2)                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“Š DISPLAY EXTRACTED DATA:                             â”‚
â”‚     â€¢ Course title                                      â”‚
â”‚     â€¢ Course level (undergrad/grad)                     â”‚
â”‚     â€¢ Location                                          â”‚
â”‚     â€¢ Learning outcomes (numbered list)                 â”‚
â”‚     â€¢ Artifacts/deliverables                            â”‚
â”‚     â€¢ Schedule                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ¯ ACTION BUTTONS:                                     â”‚
â”‚     â€¢ "Customize Settings" â†’ /configure                 â”‚
â”‚     â€¢ "Generate Projects Now" â†’ /configure?auto=true    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ (User clicks "Generate Projects Now")
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          PAGE: /configure (Step 3)                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“ INPUT PARAMETERS:                                   â”‚
â”‚     â€¢ Industries (optional, comma-separated)            â”‚
â”‚     â€¢ Specific companies (optional)                     â”‚
â”‚     â€¢ Number of teams (1-20, default: 5)                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“Š LOCATION DISPLAY:                                   â”‚
â”‚     â€¢ Shows validated location                          â”‚
â”‚     â€¢ Can override if needed                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ (User clicks "Discover Companies")
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      API CALL: discover-companies (Edge Function)       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“¤ REQUEST:                                            â”‚
â”‚     POST to discover-companies                          â”‚
â”‚     Body: {                                             â”‚
â”‚       courseId,                                         â”‚
â”‚       location: "City, State, Country",                 â”‚
â”‚       count: 5                                          â”‚
â”‚     }                                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ”„ PROCESSING PIPELINE:                                â”‚
â”‚     Phase 1: Extract skills from learning outcomes      â”‚
â”‚     Phase 2: Map skills to occupations (multi-provider) â”‚
â”‚              - ESCO provider                            â”‚
â”‚              - Skills-ML provider                       â”‚
â”‚              - O*NET provider (if configured)           â”‚
â”‚     Phase 3: Discover companies via Apollo.io           â”‚
â”‚     Phase 4: Semantic similarity filtering              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸŒ EXTERNAL API:                                       â”‚
â”‚     Apollo.io Organization Search API                   â”‚
â”‚     â€¢ Search by location                                â”‚
â”‚     â€¢ Filter by industries                              â”‚
â”‚     â€¢ Filter by company size                            â”‚
â”‚     â€¢ Enrich with job postings                          â”‚
â”‚     â€¢ Enrich with technologies                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ’¾ DATABASE WRITES:                                    â”‚
â”‚     1. INSERT INTO generation_runs (                    â”‚
â”‚          course_id, status='in_progress'                â”‚
â”‚        )                                                â”‚
â”‚     2. INSERT INTO company_profiles (                   â”‚
â”‚          name, website, sector, city, ...               â”‚
â”‚        ) for each discovered company                    â”‚
â”‚     3. UPDATE generation_runs (                         â”‚
â”‚          extracted_skills,                              â”‚
â”‚          onet_occupations,                              â”‚
â”‚          semantic_filter_applied,                       â”‚
â”‚          companies_before_filter,                       â”‚
â”‚          companies_after_filter                         â”‚
â”‚        )                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ (Discovery complete)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        API CALL: generate-projects (Edge Function)      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“¤ REQUEST:                                            â”‚
â”‚     POST to generate-projects                           â”‚
â”‚     Body: {                                             â”‚
â”‚       courseId,                                         â”‚
â”‚       companyIds: [...]                                 â”‚
â”‚     }                                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ”„ ASYNC PROCESSING:                                   â”‚
â”‚     1. Create generation_run record                     â”‚
â”‚     2. For each company:                                â”‚
â”‚        INSERT INTO project_generation_queue (           â”‚
â”‚          course_id,                                     â”‚
â”‚          company_profile_id,                            â”‚
â”‚          generation_run_id,                             â”‚
â”‚          status='pending'                               â”‚
â”‚        )                                                â”‚
â”‚     3. Return immediately (async processing)            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â±ï¸  BACKGROUND WORKER:                                 â”‚
â”‚     Edge Function: process-generation-queue             â”‚
â”‚     â€¢ Polls for 'pending' tasks                         â”‚
â”‚     â€¢ Calls run-single-project-generation               â”‚
â”‚     â€¢ Updates status to 'completed'/'failed'            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ’¾ DATABASE WRITES (per project):                      â”‚
â”‚     1. INSERT INTO projects (                           â”‚
â”‚          course_id,                                     â”‚
â”‚          company_profile_id,                            â”‚
â”‚          status='ai_shell',                             â”‚
â”‚          title, project_form1-6,                        â”‚
â”‚          lo_score, market_score, pricing                â”‚
â”‚        )                                                â”‚
â”‚     2. INSERT INTO project_forms (                      â”‚
â”‚          project_id, form1-6, milestones                â”‚
â”‚        )                                                â”‚
â”‚     3. INSERT INTO project_metadata (                   â”‚
â”‚          project_id,                                    â”‚
â”‚          extracted_skills,                              â”‚
â”‚          onet_occupations,                              â”‚
â”‚          similarity_scores                              â”‚
â”‚        )                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“Š CLIENT POLLING:                                     â”‚
â”‚     Poll every 10 seconds for completion                â”‚
â”‚     Query: generation_run status                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ (Generation complete)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           REDIRECT TO: /projects                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ‰ SUCCESS MESSAGE:                                    â”‚
â”‚     "Successfully generated 5 projects!"                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           PAGE: /projects (Faculty View)                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ” DATABASE QUERY:                                     â”‚
â”‚     SELECT p.*, c.name as company_name                  â”‚
â”‚     FROM projects p                                     â”‚
â”‚     JOIN course_profiles cp ON p.course_id = cp.id      â”‚
â”‚     LEFT JOIN company_profiles c                        â”‚
â”‚       ON p.company_profile_id = c.id                    â”‚
â”‚     WHERE cp.owner_id = auth.uid()                      â”‚
â”‚     ORDER BY p.created_at DESC                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“Š DISPLAY:                                            â”‚
â”‚     â€¢ All projects from owned courses                   â”‚
â”‚     â€¢ All statuses visible:                             â”‚
â”‚       - ai_shell (just generated)                       â”‚
â”‚       - curated_live (admin approved)                   â”‚
â”‚       - in_progress (students working)                  â”‚
â”‚       - completed                                       â”‚
â”‚     â€¢ Project cards with:                               â”‚
â”‚       - Title & company                                 â”‚
â”‚       - LO score, market score                          â”‚
â”‚       - Status badge                                    â”‚
â”‚       - Rating stars (if rated)                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ¬ ACTIONS:                                            â”‚
â”‚     â€¢ Click card â†’ View details                         â”‚
â”‚     â€¢ Rate project (1-5 stars)                          â”‚
â”‚     â€¢ Add feedback text                                 â”‚
â”‚     â€¢ Select quality tags                               â”‚
â”‚     â€¢ Download syllabus PDF                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ (Faculty clicks "Rate Project")
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            FACULTY RATING DIALOG                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“ INPUT:                                              â”‚
â”‚     â€¢ Stars (1-5)                                       â”‚
â”‚     â€¢ Feedback text                                     â”‚
â”‚     â€¢ Quality tags:                                     â”‚
â”‚       â–¡ Misaligned to outcomes                          â”‚
â”‚       â–¡ Too simple/complex                              â”‚
â”‚       â–¡ Pricing unrealistic                             â”‚
â”‚       â–¡ Company mismatch                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ’¾ DATABASE WRITE:                                     â”‚
â”‚     UPDATE projects SET                                 â”‚
â”‚       faculty_rating = ?,                               â”‚
â”‚       faculty_feedback = ?,                             â”‚
â”‚       rating_tags = ?,                                  â”‚
â”‚       rated_at = NOW()                                  â”‚
â”‚     WHERE id = ? AND                                    â”‚
â”‚       course_id IN (                                    â”‚
â”‚         SELECT id FROM course_profiles                  â”‚
â”‚         WHERE owner_id = auth.uid()                     â”‚
â”‚       )                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Faculty Page Access Matrix

| Page | Access | Purpose |
|------|--------|---------|
| `/upload` | âœ… Yes | Upload syllabi |
| `/review-syllabus` | âœ… Yes | Review parsed data |
| `/configure` | âœ… Yes | Configure generation |
| `/projects` | âœ… Yes | View owned projects |
| `/instructor/dashboard` | âœ… Yes | Dashboard overview |
| `/demand-board` | âœ… Yes | Market demand analytics |
| `/employer/dashboard` | âŒ No | Employer only |
| `/admin-hub` | âŒ No | Admin only |

### Faculty API Calls

| Action | Endpoint | Method | Database Tables |
|--------|----------|--------|-----------------|
| Detect location | `detect-location` | POST | `university_domains` |
| Upload syllabus | Supabase Storage | PUT | Storage bucket: `syllabi` |
| Parse syllabus | `parse-syllabus` | POST | `course_profiles` |
| Discover companies | `discover-companies` | POST | `generation_runs`, `company_profiles` |
| Generate projects | `generate-projects` | POST | `project_generation_queue` |
| Poll generation | Supabase Query | SELECT | `generation_runs` |
| Rate project | Supabase Update | UPDATE | `projects` |
| View projects | Supabase Query | SELECT | `projects`, `course_profiles`, `company_profiles` |

---

## Employer User Flow

### Flowchart: Employer Post-Signup Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  EMPLOYER SIGNUP                       â”‚
â”‚  Email: contact@company.com (non-.edu)                 â”‚
â”‚  Password: ********                                    â”‚
â”‚  Role: Employer                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       EMAIL VALIDATION: Must be non-educational        â”‚
â”‚  âŒ Rejected: .edu, .ac.uk, university domains         â”‚
â”‚  âœ… Accepted: .com, .io, other business domains        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           DATABASE: USER CREATION                      â”‚
â”‚  âœ… auth.users (Supabase Auth)                        â”‚
â”‚  âœ… profiles (id, email, created_at)                  â”‚
â”‚  âœ… user_roles:                                        â”‚
â”‚     - (user_id='XXX', role='pending_employer')         â”‚
â”‚  â³ Requires admin approval & company linkage         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           EMAIL VERIFICATION                           â”‚
â”‚  Check inbox for verification link                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       LIMITED ACCESS: Pending Approval                 â”‚
â”‚  â€¢ Cannot access employer dashboard yet                â”‚
â”‚  â€¢ Awaiting admin to link account to company           â”‚
â”‚  â€¢ Can browse public pages only                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ADMIN ACTION: Company Profile Linkage             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ’¾ DATABASE UPDATE:                                    â”‚
â”‚     UPDATE company_profiles SET                         â”‚
â”‚       owner_user_id = employer_user_id                  â”‚
â”‚     WHERE id = ?                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ”“ ACCESS GRANTED:                                     â”‚
â”‚     â€¢ pending_employer role removed                     â”‚
â”‚     â€¢ employer role added                               â”‚
â”‚     â€¢ Dashboard access enabled                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼ (After approval)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       PAGE: /employer/dashboard (Main Page)             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ” DATABASE QUERIES:                                   â”‚
â”‚     1. Company Profile:                                 â”‚
â”‚        SELECT * FROM company_profiles                   â”‚
â”‚        WHERE owner_user_id = auth.uid()                 â”‚
â”‚                                                         â”‚
â”‚     2. Projects:                                        â”‚
â”‚        SELECT * FROM projects                           â”‚
â”‚        WHERE company_profile_id = ?                     â”‚
â”‚                                                         â”‚
â”‚     3. Applications:                                    â”‚
â”‚        SELECT pa.*, p.title, profiles.email             â”‚
â”‚        FROM project_applications pa                     â”‚
â”‚        JOIN projects p ON pa.project_id = p.id          â”‚
â”‚        JOIN profiles ON pa.student_id = profiles.id     â”‚
â”‚        WHERE p.company_profile_id = ?                   â”‚
â”‚        ORDER BY pa.applied_at DESC                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“Š DASHBOARD SECTIONS:                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚     â”‚ SECTION 1: Company Profile        â”‚               â”‚
â”‚     â”‚ â€¢ Logo, name, website             â”‚               â”‚
â”‚     â”‚ â€¢ Sector, location                â”‚               â”‚
â”‚     â”‚ â€¢ Technologies used               â”‚               â”‚
â”‚     â”‚ â€¢ Number of employees             â”‚               â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                         â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚     â”‚ SECTION 2: Projects               â”‚               â”‚
â”‚     â”‚ â€¢ Projects linked to company      â”‚               â”‚
â”‚     â”‚ â€¢ Status: curated_live, etc.      â”‚               â”‚
â”‚     â”‚ â€¢ Click to view details           â”‚               â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                         â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚     â”‚ SECTION 3: Student Applications   â”‚               â”‚
â”‚     â”‚ â€¢ Table view                      â”‚               â”‚
â”‚     â”‚ â€¢ Columns:                        â”‚               â”‚
â”‚     â”‚   - Student email                 â”‚               â”‚
â”‚     â”‚   - Project title                 â”‚               â”‚
â”‚     â”‚   - Application date              â”‚               â”‚
â”‚     â”‚   - Status (pending/approved)     â”‚               â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚
         â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NAVIGATE TO:     â”‚   â”‚ NAVIGATE TO:     â”‚
â”‚ /projects        â”‚   â”‚ /projects/:id    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â”‚
         â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROJECTS LIST       â”‚ â”‚ PROJECT DETAILS     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ğŸ” QUERY:           â”‚ â”‚ ğŸ” QUERY:           â”‚
â”‚   Only company's    â”‚ â”‚   Full project data â”‚
â”‚   projects shown    â”‚ â”‚   + applications    â”‚
â”‚                     â”‚ â”‚                     â”‚
â”‚ ğŸ“Š DISPLAY:         â”‚ â”‚ ğŸ“Š DISPLAY:         â”‚
â”‚   â€¢ Filtered view   â”‚ â”‚   â€¢ Description     â”‚
â”‚   â€¢ Status badges   â”‚ â”‚   â€¢ Deliverables    â”‚
â”‚   â€¢ Student counts  â”‚ â”‚   â€¢ Applications    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Employer Page Access Matrix

| Page | Access | Purpose |
|------|--------|---------|
| `/employer/dashboard` | âœ… Yes | Main dashboard |
| `/projects` | âœ… Yes (filtered) | View company projects only |
| `/projects/:id` | âœ… Yes | View project details |
| `/upload` | âŒ No | Faculty only |
| `/configure` | âŒ No | Faculty only |
| `/admin-hub` | âŒ No | Admin only |
| `/my-opportunities` | âŒ No | Student only |

### Employer API Calls

| Action | Endpoint | Method | Database Tables |
|--------|----------|--------|-----------------|
| Get company profile | Supabase Query | SELECT | `company_profiles` |
| Get projects | Supabase Query | SELECT | `projects` |
| Get applications | Supabase Query | SELECT | `project_applications`, `projects`, `profiles` |
| View project details | Supabase Query | SELECT | `projects`, `project_forms`, `project_metadata` |

---

## Admin User Flow

### Flowchart: Admin Post-Signup Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ADMIN ACCESS                        â”‚
â”‚  â€¢ Manually assigned 'admin' role via database         â”‚
â”‚  â€¢ Full system access                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            PAGE: /admin-hub (Main Hub)                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“Š TABS:                                               â”‚
â”‚     1. AI Project Shells                                â”‚
â”‚     2. Employer Leads                                   â”‚
â”‚     3. Analytics                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          â”‚          â”‚
        â–¼          â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TAB 1     â”‚ â”‚  TAB 2     â”‚ â”‚  TAB 3     â”‚
â”‚  Shells    â”‚ â”‚  Leads     â”‚ â”‚  Analytics â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚              â”‚              â”‚
      â–¼              â–¼              â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          TAB 1: AI PROJECT SHELLS                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ” DATABASE QUERY:                                     â”‚
â”‚     SELECT p.*, c.name as company_name,                 â”‚
â”‚            cp.title as course_title                     â”‚
â”‚     FROM projects p                                     â”‚
â”‚     LEFT JOIN company_profiles c                        â”‚
â”‚       ON p.company_profile_id = c.id                    â”‚
â”‚     JOIN course_profiles cp ON p.course_id = cp.id      â”‚
â”‚     WHERE p.status = 'ai_shell'                         â”‚
â”‚     ORDER BY p.suitability_score DESC                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“Š DISPLAY:                                            â”‚
â”‚     â€¢ Table view of all generated projects              â”‚
â”‚     â€¢ Sort by: suitability score, date, course          â”‚
â”‚     â€¢ Columns:                                          â”‚
â”‚       - Project title                                   â”‚
â”‚       - Company name                                    â”‚
â”‚       - Course name                                     â”‚
â”‚       - LO score                                        â”‚
â”‚       - Market score                                    â”‚
â”‚       - Suitability score                               â”‚
â”‚       - Created date                                    â”‚
â”‚     â€¢ Click row â†’ View/edit project                     â”‚
â”‚     â€¢ Market signals displayed                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          TAB 2: EMPLOYER LEADS                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ” DATABASE QUERY:                                     â”‚
â”‚     SELECT * FROM employer_interest_submissions         â”‚
â”‚     WHERE status = 'pending'                            â”‚
â”‚     ORDER BY submitted_at DESC                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“Š DISPLAY:                                            â”‚
â”‚     â€¢ Table of employer submissions                     â”‚
â”‚     â€¢ Columns:                                          â”‚
â”‚       - Company name                                    â”‚
â”‚       - Contact email                                   â”‚
â”‚       - Proposed project description                    â”‚
â”‚       - Preferred universities                          â”‚
â”‚       - Submission date                                 â”‚
â”‚     â€¢ Click "Match to Project" button                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ (Admin clicks "Match to Project")
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       API CALL: sync-project-match (Edge Function)      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“¤ REQUEST:                                            â”‚
â”‚     POST to sync-project-match                          â”‚
â”‚     Body: {                                             â”‚
â”‚       submissionId,                                     â”‚
â”‚       projectId                                         â”‚
â”‚     }                                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ’¾ DATABASE WRITES:                                    â”‚
â”‚     1. UPDATE projects SET                              â”‚
â”‚          status = 'curated_live',                       â”‚
â”‚          employer_interest_id = ?                       â”‚
â”‚        WHERE id = ?                                     â”‚
â”‚                                                         â”‚
â”‚     2. UPDATE employer_interest_submissions SET         â”‚
â”‚          status = 'matched',                            â”‚
â”‚          matched_project_id = ?,                        â”‚
â”‚          matched_at = NOW()                             â”‚
â”‚        WHERE id = ?                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  âœ… RESULT:                                             â”‚
â”‚     â€¢ Project now visible to students                   â”‚
â”‚     â€¢ Status changed: ai_shell â†’ curated_live           â”‚
â”‚     â€¢ Employer notified of match                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          TAB 3: ANALYTICS                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“Š FACULTY FEEDBACK ANALYTICS:                         â”‚
â”‚     â€¢ Rating distribution chart                         â”‚
â”‚     â€¢ Average rating by course/company                  â”‚
â”‚     â€¢ Common feedback themes                            â”‚
â”‚     â€¢ Quality tags frequency                            â”‚
â”‚     â€¢ Improvement trends over time                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ” DATABASE QUERY:                                     â”‚
â”‚     SELECT                                              â”‚
â”‚       faculty_rating,                                   â”‚
â”‚       faculty_feedback,                                 â”‚
â”‚       rating_tags,                                      â”‚
â”‚       rated_at                                          â”‚
â”‚     FROM projects                                       â”‚
â”‚     WHERE faculty_rating IS NOT NULL                    â”‚
â”‚     ORDER BY rated_at DESC                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Admin Page Access Matrix

| Page | Access | Purpose |
|------|--------|---------|
| `/admin-hub` | âœ… Yes | Main curation hub |
| `/admin-hub/metrics` | âœ… Yes | System metrics |
| `/projects` | âœ… Yes (all) | View ALL projects globally |
| `/demand-board` | âœ… Yes | Market demand analytics |
| `/upload` | âœ… Yes | Can upload for testing |
| `/configure` | âœ… Yes | Can configure for testing |
| `/employer/dashboard` | âŒ No | Employer only |
| All other pages | âœ… Yes | Full access |

### Admin API Calls

| Action | Endpoint | Method | Database Tables |
|--------|----------|--------|-----------------|
| View all projects | Supabase Query | SELECT | `projects` (all) |
| View employer leads | Supabase Query | SELECT | `employer_interest_submissions` |
| Match project | `sync-project-match` | POST | `projects`, `employer_interest_submissions` |
| View analytics | Supabase Query | SELECT | `projects`, `evaluations`, `dashboard_analytics` |
| Regenerate projects | `admin-regenerate-projects` | POST | `project_generation_queue` |
| View metrics | Supabase Query | SELECT | Multiple analytics tables |

---

## Page Navigation Map

### Complete Site Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SITE STRUCTURE                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PUBLIC PAGES:
â”œâ”€â”€ / (Landing)
â”œâ”€â”€ /landing
â””â”€â”€ /auth (Sign In/Sign Up)

STUDENT PAGES:
â”œâ”€â”€ /projects (Browse live projects)
â”œâ”€â”€ /projects/:id (Project details)
â”œâ”€â”€ /my-opportunities (Job matches)
â””â”€â”€ /my-competencies (Skills portfolio)

FACULTY PAGES:
â”œâ”€â”€ /upload (Upload syllabus)
â”œâ”€â”€ /review-syllabus (Review parsed data)
â”œâ”€â”€ /configure (Configure generation)
â”œâ”€â”€ /projects (View owned projects)
â”œâ”€â”€ /instructor/dashboard (Overview)
â””â”€â”€ /demand-board (Market analytics)

EMPLOYER PAGES:
â”œâ”€â”€ /employer/dashboard (Main dashboard)
â”œâ”€â”€ /projects (Company projects only)
â””â”€â”€ /projects/:id (Project details)

ADMIN PAGES:
â”œâ”€â”€ /admin-hub (Curation hub)
â”‚   â”œâ”€â”€ Tab: AI Project Shells
â”‚   â”œâ”€â”€ Tab: Employer Leads
â”‚   â””â”€â”€ Tab: Analytics
â”œâ”€â”€ /admin-hub/metrics (System metrics)
â”œâ”€â”€ /demand-board (Market analytics)
â””â”€â”€ /projects (All projects globally)

ERROR PAGES:
â””â”€â”€ * (404 Not Found)
```

### Navigation Flow Diagram

```
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚   /auth  â”‚
                      â”‚  Signup  â”‚
                      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚               â”‚               â”‚
            â–¼               â–¼               â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Student â”‚     â”‚ Faculty â”‚    â”‚ Employer â”‚
      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
           â”‚               â”‚               â”‚
           â–¼               â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚/projects â”‚    â”‚ /upload  â”‚   â”‚ /employer/   â”‚
    â”‚(browse)  â”‚    â”‚          â”‚   â”‚ dashboard    â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚               â”‚                 â”‚
         â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
         â”‚     â–¼                  â–¼        â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
         â”‚  â”‚/review-â”‚      â”‚/configure    â”‚
         â”‚  â”‚syllabusâ”‚      â”‚         â”‚   â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜   â”‚
         â”‚                        â”‚        â”‚
         â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
         â”‚          â–¼                      â”‚
         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
         â””â”€â”€â”€â–ºâ”‚/projects â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚(view)    â”‚
              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚/projects/â”‚
              â”‚   :id    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Admin   â”‚
                   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚/admin-hubâ”‚
                   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                         â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼            â–¼            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚Shells â”‚   â”‚ Leads  â”‚   â”‚Analyticsâ”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Network Actions & API Calls

### Edge Functions Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              EDGE FUNCTIONS (API ENDPOINTS)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AUTHENTICATION & LOCATION:
â”œâ”€â”€ detect-location
â”‚   Purpose: Detect university location from email domain
â”‚   Input: { email }
â”‚   Output: { city, state, country, institutionName }
â”‚   Used by: Faculty (/upload page)

COURSE & PROJECT GENERATION:
â”œâ”€â”€ parse-syllabus
â”‚   Purpose: Parse PDF syllabus, extract learning outcomes
â”‚   Input: { filePath, location }
â”‚   Output: { title, outcomes, artifacts, schedule }
â”‚   Used by: Faculty (/upload page)
â”‚
â”œâ”€â”€ discover-companies
â”‚   Purpose: Discover local companies via Apollo.io
â”‚   Input: { courseId, location, count }
â”‚   Output: { companies, generation_run_id }
â”‚   Pipeline:
â”‚     Phase 1: Extract skills from outcomes
â”‚     Phase 2: Map to occupations (ESCO, Skills-ML, O*NET)
â”‚     Phase 3: Semantic filtering
â”‚   Used by: Faculty (/configure page)
â”‚
â”œâ”€â”€ generate-projects
â”‚   Purpose: Initiate async project generation
â”‚   Input: { courseId, companyIds }
â”‚   Output: { generation_run_id, status }
â”‚   Used by: Faculty (/configure page)
â”‚
â”œâ”€â”€ process-generation-queue
â”‚   Purpose: Background worker for async generation
â”‚   Trigger: Scheduled (every minute) or on-demand
â”‚   Used by: System (background)
â”‚
â”œâ”€â”€ run-single-project-generation
â”‚   Purpose: Generate a single project
â”‚   Input: { courseId, companyId, generationRunId }
â”‚   Output: { projectId }
â”‚   Used by: process-generation-queue worker
â”‚
â””â”€â”€ admin-regenerate-projects
    Purpose: Admin-initiated project regeneration
    Input: { courseId, companyIds }
    Used by: Admin (/admin-hub)

SKILLS & MATCHING:
â”œâ”€â”€ competency-extractor
â”‚   Purpose: Extract skills from completed projects
â”‚   Input: { projectId, studentId }
â”‚   Output: { competencies }
â”‚
â”œâ”€â”€ job-matcher
â”‚   Purpose: Match students to Apollo jobs
â”‚   Input: { studentId, competencyIds }
â”‚   Output: { matches }
â”‚
â”œâ”€â”€ TEST-talent-alert
â”‚   Purpose: Test job alert system
â”‚   Used by: Testing only
â”‚
â””â”€â”€ investigate-apollo-jobs
    Purpose: Explore Apollo jobs API
    Used by: Development/testing

ANALYTICS & SCORING:
â”œâ”€â”€ analyze-project-value
â”‚   Purpose: Calculate project value scores
â”‚   Input: { projectId }
â”‚   Output: { loScore, marketScore, overallScore }
â”‚
â”œâ”€â”€ project-suitability-scorer
â”‚   Purpose: Calculate market suitability
â”‚   Input: { projectId, companyId }
â”‚   Output: { suitabilityScore, signals }
â”‚
â”œâ”€â”€ aggregate-demand-signals
â”‚   Purpose: Aggregate market demand data
â”‚   Used by: Analytics dashboards
â”‚
â””â”€â”€ data-enrichment-pipeline
    Purpose: Enrich company data
    Input: { companyId }
    Output: { enrichedData }

ADMIN & MANAGEMENT:
â”œâ”€â”€ sync-project-match
â”‚   Purpose: Match employer leads to projects
â”‚   Input: { submissionId, projectId }
â”‚   Output: { success }
â”‚   Used by: Admin (/admin-hub)
â”‚
â”œâ”€â”€ submit-employer-interest
â”‚   Purpose: Submit employer lead form
â”‚   Input: { companyInfo, projectDescription }
â”‚   Output: { submissionId }
â”‚   Used by: Public employer form
â”‚
â”œâ”€â”€ portfolio-export
â”‚   Purpose: Export student portfolio as PDF
â”‚   Input: { studentId }
â”‚   Output: { pdfUrl }
â”‚   Used by: Student (/my-competencies)
â”‚
â”œâ”€â”€ get-project-detail
â”‚   Purpose: Fetch full project details
â”‚   Input: { projectId }
â”‚   Output: { project, forms, metadata }
â”‚
â”œâ”€â”€ get-apollo-org-id
â”‚   Purpose: Lookup Apollo organization ID
â”‚   Input: { companyName, domain }
â”‚   Output: { apolloOrgId }
â”‚
â””â”€â”€ apollo-webhook-listener
    Purpose: Listen for Apollo.io webhooks
    Trigger: Webhook from Apollo

MIGRATION & UTILITIES:
â””â”€â”€ migrate-technology-format
    Purpose: Data migration for technology format
    Used by: One-time migration
```

### API Call Frequency by User Type

**Student:**
- Browse projects: Every page load
- View details: Every project click
- Apply: On-demand (user action)
- View opportunities: Every page load
- View competencies: Every page load
- Export portfolio: On-demand (user action)

**Faculty:**
- Detect location: Once per syllabus upload
- Parse syllabus: Once per upload
- Discover companies: Once per course configuration
- Generate projects: Once per course (5-20 projects)
- Poll generation: Every 10 seconds during generation
- View projects: Every page load
- Rate project: On-demand (user action)

**Employer:**
- Get dashboard data: Every page load
- View projects: Every page load
- View applications: Every dashboard load

**Admin:**
- View project shells: Every page load
- View employer leads: Every page load
- Match project: On-demand (admin action)
- View analytics: Every page load
- System metrics: Every metrics page load

---

## Database Changes by Action

### User Signup

**Tables Affected:**
```sql
-- 1. auth.users (Supabase Auth)
INSERT INTO auth.users (...)

-- 2. profiles (via trigger)
INSERT INTO profiles (id, email, created_at)

-- 3. user_roles (via trigger)
-- Student:
INSERT INTO user_roles (user_id, role) VALUES (?, 'student')

-- Faculty:
INSERT INTO user_roles (user_id, role) VALUES (?, 'student')
INSERT INTO user_roles (user_id, role) VALUES (?, 'pending_faculty')

-- Employer:
INSERT INTO user_roles (user_id, role) VALUES (?, 'pending_employer')
```

### Faculty Uploads Syllabus

**Tables Affected:**
```sql
-- 1. Storage: syllabi bucket
INSERT INTO storage.objects (name, bucket_id, owner)

-- 2. course_profiles
INSERT INTO course_profiles (
  owner_id, title, level, city_zip, search_location,
  weeks, hrs_per_week, outcomes, artifacts, schedule
)
```

### Faculty Discovers Companies

**Tables Affected:**
```sql
-- 1. generation_runs
INSERT INTO generation_runs (
  course_id, status, created_at
)

-- 2. generation_runs (update with skill extraction)
UPDATE generation_runs SET
  extracted_skills = ?,
  skill_extraction_method = ?,
  skills_extracted_at = NOW()

-- 3. generation_runs (update with occupation mapping)
UPDATE generation_runs SET
  onet_occupations = ?,
  onet_mapping_method = ?,
  onet_mapped_at = NOW()

-- 4. company_profiles (for each discovered company)
INSERT INTO company_profiles (
  name, website, sector, city, state, country,
  address, zip, size, apollo_organization_id,
  contact_email, contact_name, contact_title,
  job_postings, technologies_used, founded_year, ...
)

-- 5. generation_runs (update with semantic filtering)
UPDATE generation_runs SET
  semantic_filter_threshold = ?,
  semantic_filter_applied = true,
  companies_before_filter = ?,
  companies_after_filter = ?,
  average_similarity_score = ?
```

### Faculty Generates Projects

**Tables Affected:**
```sql
-- 1. project_generation_queue (for each project)
INSERT INTO project_generation_queue (
  course_id, company_profile_id, generation_run_id,
  status = 'pending'
)

-- 2. projects (when generation completes)
INSERT INTO projects (
  course_id, company_profile_id, generation_run_id,
  status = 'ai_shell',
  title, project_form1, project_form2, ..., project_form6,
  lo_score, market_score, pricing, suitability_score
)

-- 3. project_forms
INSERT INTO project_forms (
  project_id, form1, form2, form3, form4, form5, form6,
  milestones
)

-- 4. project_metadata
INSERT INTO project_metadata (
  project_id,
  extracted_skills,
  onet_occupations,
  semantic_similarity_scores
)

-- 5. project_generation_queue (update status)
UPDATE project_generation_queue SET
  status = 'completed',
  completed_at = NOW()

-- 6. generation_runs (mark complete)
UPDATE generation_runs SET
  status = 'completed',
  completed_at = NOW()
```

### Student Applies to Project

**Tables Affected:**
```sql
-- 1. project_applications
INSERT INTO project_applications (
  project_id,
  student_id = auth.uid(),
  status = 'pending',
  applied_at = NOW()
)
```

### Faculty Rates Project

**Tables Affected:**
```sql
-- 1. projects
UPDATE projects SET
  faculty_rating = ?,
  faculty_feedback = ?,
  rating_tags = ?,
  rated_at = NOW()
WHERE id = ?
```

### Admin Matches Employer Lead

**Tables Affected:**
```sql
-- 1. projects
UPDATE projects SET
  status = 'curated_live',
  employer_interest_id = ?,
  curated_at = NOW()
WHERE id = ?

-- 2. employer_interest_submissions
UPDATE employer_interest_submissions SET
  status = 'matched',
  matched_project_id = ?,
  matched_at = NOW()
WHERE id = ?
```

---

## Summary Statistics

### Total Pages: 16
- Public: 3
- Student-only: 2
- Faculty-only: 5
- Employer-only: 1
- Admin-only: 2
- Multi-role: 3

### Total Edge Functions: 20+
- Authentication: 1
- Course management: 5
- Skills/Matching: 4
- Analytics: 4
- Admin: 6
- Utilities: 1+

### Total Database Tables: 25+
- Authentication: 3
- Course management: 2
- Project system: 7
- Company data: 3
- Student engagement: 3
- Analytics: 7+

### User Roles: 6
- student (default)
- faculty
- employer
- admin
- pending_faculty
- pending_employer

---

**Document Version**: 1.0
**Last Updated**: 2025-11-12
**Status**: Complete System Scan